!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Quadtree=e():t.Quadtree=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return{_bounds:t,_nodes:[],_quads:[],id:""}}function r(t,e,i,r){var o=new _["default"](t,e,i,r);return n(o)}function o(t,e){return{_bounds:t,_value:e}}function u(t,e){var i=-1,n=0,r=0,o=t._bounds,u=e._bounds,s=u.leftX,d=u.rightX,f=u.topY,h=u.bottomY,a=o.middleX,p=o.middleY;if(o.leftX>u.leftX||o.rightX<d)return i;if(o.topY>u.topY||o.bottomY<h)return i;if(d>a){if(s<a)return i;r=1}if(h>p){if(f<p)return i;n=2}return r+n}function s(t,e){var i,n,o,s,f=t._bounds,h=t._quads,a=t._nodes,p=0,c=f.leftX,l=f.topY,m=f.middleX,_=f.middleY,b=f.width/2,v=f.height/2;for(h[0]=r(c,l,b,v),h[0].id=t.id+"0",h[1]=r(m,l,b,v),h[1].id=t.id+"1",h[2]=r(c,_,b,v),h[2].id=t.id+"2",h[3]=r(m,_,b,v),h[3].id=t.id+"3",o=a.length-1;o>=0;)n=a[o],s=u(t,n),s!==-1&&(a.splice(o,1),i=h[s],p+=d(n,i,e)),--o;return p}function d(t,e,i){var n,r,o=e._quads,d=o.length>0,f=0;if(d)for(r=u(e,t);r!==-1;)e=e._quads[r],r=e._quads.length>0?u(e,t):-1;return n=e._nodes,n.push(t),0===e._quads.length&&n.length>i&&(f+=s(e,i)),f}function f(t){if(void 0===t)return v;var e=parseInt(t);if(e!==t||t<=0)throw new TypeError("maxItems must be a positive integer.");return e}function h(t,e){var i=t._bounds;return!(i.leftX>e.rightX||e.leftX>i.rightX)&&!(i.topY>e.bottomY||e.topY>i.bottomY)}function a(t,e){var i=t._bounds,n=e.x,r=e.y;return!(n<i.leftX||n>i.rightX)&&!(r<i.topY||r>i.bottomY)}function p(t){if(null===t||"undefined"==typeof t)throw new TypeError("bounds parameter must be defined");return t instanceof _["default"]?t:new _["default"](t.x,t.y,t.width,t.height)}function c(t){if(null===t||"undefined"==typeof t)throw new TypeError("point parameter must be defined");return{x:b.validateNumber(t.x,"x"),y:b.validateNumber(t.y,"y")}}function l(t,e,i,n){for(var r,o=t._nodes,u=o.length-1;u>=0;)r=o[u],i(r,e)&&n.push(r._value),--u}function m(t,e,i){for(var n,r,o,u,s=[],d=[t],f=0;f>=0;)if(r=d[f],--f,n=i(r,e))for(l(r,e,i,s),o=r._quads,u=o.length-1;u>=0;)d[++f]=o[u],--u;return s}var _=i(1),b=i(2),v=4,y=function(){function t(e,i){this._depth=1,this._size=0,this._maxItems=v,this._nodes=[],this._quads=[],this.id="";var n=p(e);return this instanceof t?(this._maxItems=f(i),void(this._bounds=n)):new t(n,i)}return t.prototype.clear=function(){this._depth=0,this._size=0,this._quads=[],this._nodes=[]},t.prototype.isEmpty=function(){return 0===this._size},t.prototype.getMaxItems=function(){return this._maxItems},t.prototype.getDepth=function(){return this._depth},t.prototype.getSize=function(){return this._size},t.prototype.queryWithBoundingBox=function(t){var e=p(t);return m(this,e,h)},t.prototype.queryWithPoint=function(t){var e=c(t);return m(this,e,a)},t.prototype.insert=function(t,e){var i=p(t),n=o(i,e),r=d(n,this,this._maxItems);this._depth+=r,++this._size},t}();e.Quadtree=y},function(t,e,i){"use strict";var n=i(2),r=function(){function t(e,i,r,o){if(!(this instanceof t))return new t(e,i,r,o);if(r<0)throw new RangeError("width must be >= 0");if(o<0)throw new RangeError("height must be >= 0");this.leftX=n.validateNumber(e,"x"),this.topY=n.validateNumber(i,"y"),this.width=n.validateNumber(r,"width"),this.height=n.validateNumber(o,"height"),this.rightX=e+r,this.bottomY=i+o,this.middleX=this.rightX-r/2,this.middleY=this.bottomY-o/2}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r},function(t,e){"use strict";function i(t,e){if(!isFinite(t))throw new TypeError(e+" must be a finite number");return Number(t)}e.validateNumber=i}])});
//# sourceMappingURL=Quadtree.min.js.map